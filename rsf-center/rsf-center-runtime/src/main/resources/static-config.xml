<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="http://project.hasor.net/hasor/schema/hasor-rsf-runtime">
    <!-- 框架配置，包扫描范围 -->
    <hasor>
        <!-- 包扫描路径 -->
        <loadPackages>net.hasor.rsf.center.server.*</loadPackages>
        <!-- RSF-Center 启动入口 -->
        <startup>net.hasor.rsf.center.server.manager.RsfCenterServerModule</startup>

        <!-- RSF框架环境变量 -->
        <environmentVar>
            <!-- 注册中心工作模式,默认:alone -->
            <RSF_CENTER_WORK_MODE>alone</RSF_CENTER_WORK_MODE>
            <!-- Center工作在集群模式下的时候,集群的机器列表,注意:集群中每台机器的对应clusterServers配置都应相同,center在启动时会进行检测 -->
            <RSF_CENTER_SERVERS></RSF_CENTER_SERVERS>
        </environmentVar>
    </hasor>

    <!--
        Hasor-RSF ( 分布式服务框架的注册中心 )
        
            workAt  : 注册中心工作模式，可选的配置有
                        alone   单机模式，一台机器
                        cluster 集群模式，基数台机器
    -->
    <rsfCenter workAt="${RSF_CENTER_WORK_MODE}">
        <!--
            Center工作在集群模式下的时候,集群的机器列表
                注意:集群中每台机器的对应clusterServers配置都应相同,center在启动时会进行检测
        -->
        <clusterServers>${RSF_CENTER_SERVERS}</clusterServers>

        <!-- 服务推送配置 -->
        <polling>
            <!-- 推送队列最大长度，当待推送服务达到这个阀值之后注册中心就会将新的事件交给集群其它机器去处理。 -->
            <queueMaxSize>10000</queueMaxSize>
            <!-- 当遇到推送队列满了之后等待多长时间重试一次，如果重试的时候队列依然满的，那么转发到其它机器上。单位毫秒 -->
            <sleepTime>1000</sleepTime>
        </polling>
    </rsfCenter>
</config>