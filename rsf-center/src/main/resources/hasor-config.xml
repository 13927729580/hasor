<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="http://project.hasor.net/hasor/schema/main">
	<hasor>
		<!-- 包扫描路径 -->
		<loadPackages>net.hasor.rsf.center.*</loadPackages>
		<!-- demo程序启动入口 -->
		<startup>net.hasor.rsf.center.core.startup.StartAppModule</startup>

		<!-- 使用模版插件，并指定模版引擎为freemarker -->
		<template urlPatterns="htm;html;" engine="freemarker" />
		<!-- web上，可以将压缩包的内容做为请求响应【由ResourceModule插件提供】 -->
		<!-- <resourceLoader urlPatterns="js;css;eot;svg;ttf;woff;" /> -->
	</hasor>


	<rsfCenter>
		<!--工作模式： master ：集群主机模式，在集群中请确保每一台从属机都可以访问到它(集群主机模式会负责初始化zk数据，但是不保证zk的首领一直处于主机上)。 slave ：集群从属机器(负责从集群主机上获取zk相关的数据，然后加入主机所指定的zk集群)。 alone ：单机持久化模式，当服务重新启动数据不丢失。 -->
		<workAt>alone</workAt>

		<!-- ZK配置 -->
		<zooKeeper>
			<!-- master,alone模式有效，zk心跳时间1s -->
			<tickTime>1000</tickTime>
			<!-- master,alone模式有效，回话最小超时时间4s -->
			<minSessionTimeout>4000</minSessionTimeout>
			<!-- master,alone模式有效，回话最大超时时间15s -->
			<maxSessionTimeout>15000</maxSessionTimeout>
			<!-- master模式有效，zk本地地址 -->
			<bindAddress>local</bindAddress>
			<!-- master,alone模式有效，zk本地端口（内建模式下绑定的ip为：127.0.0.1） -->
			<bindPort>2180</bindPort>
			<!-- master,alone模式有效，允许的客户端最大连接数（该值没有实际意义，内建模式下zk只会） -->
			<clientCnxns>100</clientCnxns>

			<!-- 加入zk集群，客户端超时时间 -->
			<clientTimeout>15000</clientTimeout>
			<!-- 加入zk集群的服务器列表（内建模式下配置无效） -->
			<zkServers>127.0.0.1:1230</zkServers>
		</zooKeeper>

		<!-- 内存数据库Sechma -->
		<memInitialize>
			<sqlScript>META-INF/sqlddl/rsf_app_create.sql</sqlScript>
			<sqlScript>META-INF/sqlddl/rsf_service_info_create.sql</sqlScript>
			<sqlScript>META-INF/sqlddl/rsf_terminal_create.sql</sqlScript>
			<sqlScript>META-INF/sqlddl/rsf_service_joinport_create.sql
			</sqlScript>
		</memInitialize>

		<!-- 关键数据（内存模式下无效） -->
		<jdbcConfig>
			<driver>org.hsqldb.jdbcDriver</driver>
			<url>jdbc:hsqldb:mem:rsf_memdb</url>
			<username>sa</username>
			<password></password>
		</jdbcConfig>
	</rsfCenter>
</config>